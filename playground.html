<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/4.2.0/masonry.pkgd.min.js" integrity="sha512-WaqrlkVlJRs7/+/McaNTsxOA8LGnPK9pzfzTTHOCzo/XcgcC9yG8JJxJ+IGYn3j65x2DP9q0o8fBX8HtBJuc2g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/5.0.0/imagesloaded.pkgd.min.js" integrity="sha512-kfs3Dt9u9YcOiIt4rNcPUzdyNNO9sVGQPiZsub7ywg6lRW5KuK1m145ImrFHe3LMWXHndoKo2YRXWy8rnOcSKg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>Work</title>
</head>
<body>
    <div class="wrap play">

        <!-- header -->
        <header>
            <nav>
                <ul>
                    <li>
                        <a class="logo" href="index.html">julchoistudio.</a>
                    </li>
                    <li>
                        <a href="about.html">About</a>
                    </li>
                </ul>
                <ul>
                    <li>
                        <a href="index.html">Work</a> 
                    </li>
                    <li>
                        <a href="playground.html" class="active">Playground</a>
                    </li>
                </ul>
        </header>
        <!-- header -->

        <main>
            <div class="grid">
                <div class="grid-sizer"></div>

                <div class="img-box grid-item" data-id="1">
                    <a href="#" class="work01">
                        <picture>
                            <source srcset="assets/images/Play/1.png" media="(max-width: 835px)">
                            <source srcset="assets/images/Play/1.png" media="(max-width: 1024px)">
                            <img src="assets/images/Play/1.png" alt="View">
                        </picture>
                        <p class="p-title">New York Magazine Redesign, Editorial, 2022</p>
                    </a>
                </div>
                <div class="img-box grid-item margin-none" data-id="2">
                    <a href="#" class="work02">
                        <picture>
                            <source srcset="assets/images/Play/2.png" media="(max-width: 835px)">
                            <source srcset="assets/images/Play/2.png" media="(max-width: 1024px)">
                            <img src="assets/images/Play/2.png" alt="View">
                        </picture>
                        <p class="p-title">COMM DSGN Exhibition Poster, Print, 2022</p>
                    </a>  
                </div>
                <div class="img-box grid-item" data-id="3">
                    <a href="#" class="work03">
                        <picture>
                            <source srcset="assets/images/Play/3.png" media="(max-width: 835px)">
                            <source srcset="assets/images/Play/3.png" media="(max-width: 1024px)">
                            <img src="assets/images/Play/3.png" alt="View">
                        </picture>
                        <p class="p-title">SVA Yearbook Survey Poster, Print, 2024</p>
                    </a>
                </div>
                <div class="img-box grid-item margin-none" data-id="4">
                    <a href="#" class="work04">
                        <picture>
                            <source srcset="assets/images/Play/4.png" media="(max-width: 835px)">
                            <source srcset="assets/images/Play/4.png" media="(max-width: 1024px)">
                            <img src="assets/images/Play/4.png" alt="View" loading="lazy">
                        </picture>
                        <p class="p-title">Thinker Box Archiecture Poster, Print, 2021</p>
                    </a>
                </div>
                <div class="img-box grid-item" data-id="5">
                    <a href="#" class="work05">
                        <picture>
                            <source srcset="assets/images/Play/5.png" media="(max-width: 835px)">
                            <source srcset="assets/images/Play/5.png" media="(max-width: 1024px)">
                            <img src="assets/images/Play/5.png" alt="View" loading="lazy">
                        </picture>
                        <p class="p-title">Memories Don't Die Film Festival Poster, Print, 2021</p>
                    </a>
                </div>
                <div class="img-box grid-item margin-none" data-id="6">
                    <a href="#" class="work06">
                        <picture>
                            <source srcset="assets/images/Play/6.png" media="(max-width: 835px)">
                            <source srcset="assets/images/Play/6.png" media="(max-width: 1024px)">
                            <img src="assets/images/Play/6.png" alt="View" loading="lazy">
                        </picture>
                        <p class="p-title">Cairo Egypt Travel Hand Drawn Poster, Print, 2022</p>
                    </a>
                </div>
                <div class="img-box grid-item" data-id="7">
                    <a href="#" class="work07">
                        <picture>
                            <source srcset="assets/images/Play/7.png" media="(max-width: 835px)">
                            <source srcset="assets/images/Play/7.png" media="(max-width: 1024px)">
                            <img src="assets/images/Play/7.png" alt="View" loading="lazy">
                        </picture>
                        <p class="p-title">The Ivy Foundry Type Family, Type Specimen, 2021 </p>
                    </a>
                </div>   
                <div class="img-box grid-item margin-none" data-id="8">
                    <a href="#" class="work08">
                        <picture>
                            <source srcset="assets/images/Play/8.png" media="(max-width: 835px)">
                            <source srcset="assets/images/Play/8.png" media="(max-width: 1024px)">
                            <img src="assets/images/Play/8.png" alt="View" loading="lazy">
                        </picture>
                        <p class="p-title">Barilla Pasta Package Rebrand, Packaging, 2022</p>
                    </a>
                </div>
                <div class="img-box grid-item margin-none" data-id="9">
                    <a href="#" class="work09">
                        <picture>
                            <source srcset="assets/images/Play/9.png" media="(max-width: 835px)">
                            <source srcset="assets/images/Play/9.png" media="(max-width: 1024px)">
                            <img src="assets/images/Play/9.png" alt="View" loading="lazy">
                        </picture>
                        <p class="p-title">Duchess Bake Shop Cook Book, Editorial, 2023</p>
                    </a>
                </div>
                <div class="blank grid-item"></div>
            </div>
        </main>

        <!-- mobile bottom menu -->
        <m-nav></m-nav>

    </div>

    <script src="js/script.js"></script>
    <script>
        const grid = document.querySelector('.grid');
        const body = document.body;
    
        // 로딩 중에는 스크롤 방지
        body.classList.add('loading');
    
        function getGutterByWindowWidth() {
            if (window.innerWidth > 1439) return 20;
            if (window.innerWidth < 1439) return 11;
            return 20;
        }
    
        let msnry = null;
    
        function initMasonry() {
            msnry = new Masonry(grid, {
                itemSelector: '.grid-item',
                columnWidth: '.grid-sizer',
                percentPosition: true,
                gutter: getGutterByWindowWidth(),
                fitWidth: false,
                horizontalOrder: true
            });
        }
    
        function refreshMasonry() {
            imagesLoaded(grid, function () {
                msnry.layout();
            });
        }
    
        // 최초 초기화
        imagesLoaded(grid, function () {
            initMasonry();
            msnry.layout();
    
            // 스크롤 맨 위로
            window.scrollTo(0, 0);
    
            // IntersectionObserver 적용 (선택 사항)
            const items = document.querySelectorAll('.grid-item');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('show');
                    } else {
                        entry.target.classList.remove('show');
                    }
                });
            }, {
                threshold: 0.1
            });
    
            items.forEach((item) => observer.observe(item));
        });
    
        // 리사이즈 대응
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                msnry.options.gutter = getGutterByWindowWidth();
                refreshMasonry();
            }, 200);
        });
    </script>

</body>
</html>